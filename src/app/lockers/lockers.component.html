<div class="grid-container">
  <h1 class="mat-h1" i18n="@@lockers-title">Lockers</h1>
  <button mat-fab color="primary" (click)="openCreateDialog()">
    <mat-icon>add</mat-icon>
  </button>
  <mat-grid-list cols="2" *ngIf="lockers" multi>
    <mat-grid-tile *ngFor="let locker of lockers; let i = index" [colspan]="1" [rowspan]="1">
      <mat-card class="dashboard-card">
        <mat-card-header>
          <div mat-card-avatar class="header-image"></div>
          <mat-card-title style="padding-top: 10px;">
            {{locker.login}}
            <button mat-icon-button class="more-button" [matMenuTriggerFor]="menu" aria-label="Toggle menu">
              <mat-icon>more_vert</mat-icon>
            </button>
            <mat-menu #menu="matMenu" xPosition="before">
              <button mat-menu-item (click)="openEditDialog(locker)" i18n="@@edit-btn">Edit</button>
              <button mat-menu-item (click)="deleteLocker(locker.id)" i18n="@@delete-btn">Delete</button>
              <button *ngIf="!locker.isBlocked" mat-menu-item (click)="blockLocker(i)" i18n="@@block-btn">Block</button>
              <button *ngIf="locker.isBlocked" mat-menu-item (click)="unblockLocker(i)" i18n="@@unblock-btn">Unblock</button>
            </mat-menu>
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="dashboard-card-content">
          <div class="chips-container">
            <mat-chip-list>
              <ng-container [ngSwitch]="locker.isBlocked">
                <mat-chip selected color="warn" *ngSwitchCase="true" i18n="@@blocked-label">
                  Blocked
                </mat-chip>
                <mat-chip selected *ngSwitchCase="false" i18n="@@not-blocked-label">
                  Not blocked
                </mat-chip>
              </ng-container>
              <ng-container [ngSwitch]="locker.isFull">
                <mat-chip selected *ngSwitchCase="true" i18n="@@full-label">
                  Full
                </mat-chip>
                <mat-chip selected *ngSwitchCase="false" i18n="@@not-full-label">
                  Not full
                </mat-chip>
              </ng-container>
            </mat-chip-list>
          </div>

          <ng-container *ngIf="locker.tools.length > 0">
            <mat-expansion-panel 
              (opened)="changePanelState(i, true)"
              (closed)="changePanelState(i, false)"
              [expanded]="panelExpanded[i]">

              <mat-expansion-panel-header>
                <mat-panel-title i18n="@@lockers-tools-label">
                  Tools
                </mat-panel-title>
                <mat-panel-description i18n="@@lockers-tools-description-label">
                  Tools located in this locker
                </mat-panel-description>              
              </mat-expansion-panel-header>

              <mat-list dense>
                <mat-list-item *ngFor="let tool of locker.tools" style="margin-bottom: 20px;">
                  <img matListAvatar src="data:image/png;base64,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" />
                  <h3 matLine style="font-size: 20px;"> {{tool.name}} </h3>
                  <p matLine>
                    <span> {{tool.id}} </span> 
                    <br />
                    <span> {{tool.description}} </span>
                  </p>
                  <mat-divider style="margin: -10px;"></mat-divider>
                </mat-list-item>                
              </mat-list>              
            </mat-expansion-panel>
          </ng-container>
        </mat-card-content>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</div>
